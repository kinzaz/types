syntax = "proto3";

package profile;

option go_package = "pb/gen/profile;profile";

message Prices {
  int32 one_hour = 1;
  int32 two_hour = 2;
  int32 night = 3;
}

message CreateProfileRequest {
  string name = 1;
  string description = 2;
  int32 age = 3;
  int32 height = 4;
  int32 weight = 5;
  string breast_size = 6;
  int32 hair_color_id = 7;
  int32 nationality_id = 8;
  int32 city_id = 9;
  repeated int32 district_ids = 10;
  repeated int32 metro_ids = 11;
  Prices prices = 12;
  string phone = 13;
  repeated string images = 14;
}

message Profile {
  string id = 1;
  string name = 2;
  string description = 3;
  int32 age = 4;
  int32 height = 5;
  int32 weight = 6;
  string breast_size = 7;
  int32 hair_color_id = 8;
  int32 nationality_id = 9;
  int32 city_id = 10;
  repeated int32 district_ids = 11;
  repeated int32 metro_ids = 12;
  Prices prices = 13;
  string phone = 14;
  repeated string images = 15;
  string status = 18;
  string created_at = 19;
  string updated_at = 20;
}

message GetProfileByIDRequest {
  string id = 1;
}

message GetProfilesResponse {
  repeated Profile profiles = 1;
}

message Empty {}

message GetCityIDByNameRequest {
  string name = 1;
}

// Ответ
message GetCityIDByNameResponse {
  int32 city_id = 1; 
}

message GetNationalitiesResponse {
  repeated string nationalities = 1;
}

message GetHairColorsResponse {
  repeated string hair_colors = 1;
}

service ProfileService {
  rpc CreateProfile(CreateProfileRequest) returns (Profile);
  rpc GetProfileByID(GetProfileByIDRequest) returns (Profile);
  rpc GetProfiles(Empty) returns (GetProfilesResponse);
  rpc DeleteProfileByID(GetProfileByIDRequest) returns (Empty);
  rpc GetCityIDByName(GetCityIDByNameRequest) returns (GetCityIDByNameResponse);
  rpc GetNationalities(Empty) returns (GetNationalitiesResponse);
  rpc GetHairColors(Empty) returns (GetHairColorsResponse);
}